import{r,j as s,a as e,u as m,F as f,O as x,L as y}from"./index.8d02403f.js";function C({setSearchParams:o}){const[t,n]=r.exports.useState("50"),[i,d]=r.exports.useState(""),[u,a]=r.exports.useState("");return s("div",{className:"filterComponent",children:[s("label",{htmlFor:"requestAmount",children:[e("div",{children:"Users Amount:"}),s("select",{name:"requestAmount",id:"requestAmount",defaultValue:"50",onChange:({target:l})=>n(l.value),children:[e("option",{value:"50",children:"50"}),e("option",{value:"100",children:"100"}),e("option",{value:"150",children:"150"}),e("option",{value:"200",children:"200"}),e("option",{value:"250",children:"250"}),e("option",{value:"300",children:"300"})]})]}),s("label",{htmlFor:"gender",children:[e("div",{children:"Gender:"}),s("select",{name:"gender",id:"gender",defaultValue:"",onChange:({target:l})=>d(l.value),children:[e("option",{value:"",children:"all"}),e("option",{value:"male",children:"male"}),e("option",{value:"female",children:"female"})]})]}),s("label",{htmlFor:"nationality",children:[e("div",{children:"Nationality:"}),s("select",{name:"nationality",id:"nationality",defaultValue:"",onChange:({target:l})=>a(l.value),children:[e("option",{value:"",children:"all"}),e("option",{value:"us",children:"USA"}),e("option",{value:"fr",children:"France"}),e("option",{value:"es",children:"Spain"}),e("option",{value:"ca",children:"Canada"}),e("option",{value:"fr",children:"France"})]})]}),e("button",{onClick:()=>o({requestAmount:t,gender:i,nationality:u}),children:" Apply filter"})]})}function S({length:o,setPage:t,currentPage:n}){const[i,d]=r.exports.useState([]),u=m();return r.exports.useEffect(()=>{d(N(n,o))},[n]),e(f,{children:s("section",{className:"pagination",children:[e("button",{type:"button",tabIndex:1e3,"aria-label":"first user",onClick:()=>{n-1<0||(t(n-1),u(`/users/${n}`))},disabled:n+1==1,children:"<"}),i.map(a=>e("button",{type:"button",tabIndex:`${a*1e3}`,"aria-label":`user number ${a}`,onClick:()=>{Number(a)&&(t(a-1),u(`/users/${a}`))},disabled:a==n+1||a=="...",children:a},a+`${Math.random()}`)),e("button",{"aria-label":"last user",type:"button",tabIndex:(o+1)*1e3,onClick:()=>{n+1!=o&&(t(n+1),u(`/users/${n+2}`))},disabled:n+1==o,children:">"})]})})}function N(o,t){if(t<8){let n=[];for(let i=0;i<t;i++)n[i]=i+1;return n}return o<=3?[1,2,3,4,5,"...",t]:o>3&&o<t-4?[1,"...",o,o+1,o+2,"...",t]:[1,"...",t-4,t-3,t-2,t-1,t]}const A=r.exports.createContext();function F(){const[o,t]=r.exports.useState([]),[n,i]=r.exports.useState(0),[d,u]=r.exports.useState(""),a=m(),[{requestAmount:l,gender:p,nationality:h},b]=r.exports.useState({requestAmount:"50",gender:"",nationality:""});return r.exports.useEffect(()=>((async()=>{try{const c=await(await fetch(`https://randomuser.me/api/?results=${l}&nat=${h}&gender=${p}&exc=login,registered,id`)).json();t(c==null?void 0:c.results),a("/users/1"),i(0)}catch{u("something went wrong")}})(),()=>t([])),[l,p,h]),d==""?e("section",{className:"users",children:o.length?s(f,{children:[e(C,{setSearchParams:b}),e(A.Provider,{value:o,children:e(x,{})}),e(S,{length:o.length,setPage:i,currentPage:n})]}):e(y,{})}):s("p",{className:"somethingWrong",children:["Something went wrong. ",e("br",{}),"Go back to home page.",e("button",{onClick:()=>a("/"),children:"Home"})]})}export{F as default,A as usersContext};
